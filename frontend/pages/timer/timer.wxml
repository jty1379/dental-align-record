<!--pages/timer/timer.wxml-->
<view class="container">
  <!-- æˆå°±å¾½ç«  -->
  <view class="achievement-badge" wx:if="{{currentStreak > 0}}">
    <text class="badge-icon">ğŸ†</text>
    <text class="badge-text">è¿ç»­å®Œæˆ {{currentStreak}} å¤©</text>
  </view>
  
  <!-- æ—¶é—´æ˜¾ç¤º -->
  <view class="time-display">
    <text class="time-label">ä»Šæ—¥å·²ä½©æˆ´</text>
    <text class="time-value">{{displayTime}}</text>
    <text class="time-target">ç›®æ ‡: {{targetSeconds / 3600}}å°æ—¶</text>
  </view>
  
  <!-- è¿›åº¦ç¯ -->
  <view class="progress-wrapper">
    <view class="progress-ring">
      <view class="progress-bg"></view>
      <view class="progress-fill" style="--percent: {{progressPercent}}"></view>
      <view class="progress-center">
        <text class="progress-percent">{{progressPercent}}%</text>
      </view>
    </view>
  </view>
  
  <!-- ä¸»æŒ‰é’® -->
  <view class="main-button-wrapper">
    <button 
      class="main-button {{isWearing ? 'active' : ''}}" 
      bindtap="onToggleTimer"
      disabled="{{loading}}"
    >
      <text class="button-text">{{isWearing ? 'åœæ­¢ä½©æˆ´' : 'å¼€å§‹ä½©æˆ´'}}</text>
    </button>
    <text class="status-text">{{statusText}}</text>
  </view>
  
  <!-- æç¤ºä¿¡æ¯ -->
  <view class="tips" wx:if="{{!isWearing && progressPercent < 100}}">
    <text class="tips-text">ğŸ’¡ é€€å‡ºå°ç¨‹åºåè®¡æ—¶ä»ä¼šç»§ç»­</text>
  </view>
</view>
